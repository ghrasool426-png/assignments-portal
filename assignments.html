<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IGNOU Solved Assignments</title>

  <meta name="description"
        content="Download IGNOU solved assignments subject-wise for MA, BA, BSc, MSc and Diploma programmes.">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header class="main-header">
  <h1 id="pageTitle">IGNOU Solved Assignments</h1>
  <p id="pageSubtitle">Subject-wise assignments</p>
</header>

<section class="assignment-section">

  <p class="seo-text" id="seoText"></p>

  <!-- MA / MSC CONTENT -->
  <div id="paidContent"></div>

  <!-- BA / BSc / Diploma -->
  <div id="assignmentList"></div>

</section>

<script src="data.js"></script>

<script>
/* ============ READ & NORMALISE URL ============ */
const params = new URLSearchParams(window.location.search);

const programme = (params.get("programme") || "").trim().toUpperCase();
const subject   = decodeURIComponent(params.get("subject") || "")
                    .trim()
                    .replace(/\s+/g, " ");

const paidBox = document.getElementById("paidContent");
const list    = document.getElementById("assignmentList");

/* ============ BASIC SAFETY ============ */
if (!programme || !subject) {
  list.innerHTML =
    "<p style='text-align:center;color:#777;'>Invalid page</p>";
} else {

  /* ============ HEADER ============ */
  document.getElementById("pageTitle").innerText =
    `IGNOU ${programme} ${subject} Assignments`;

  document.getElementById("pageSubtitle").innerText =
    (programme === "MA" || programme === "MSC")
      ? "1st Year & 2nd Year Solved Assignments"
      : "Solved Assignments";

  document.getElementById("seoText").innerText =
    `Download IGNOU ${programme} ${subject} solved assignments.`;

  /* ============ MA COURSE CODES ============ */
  const maCourseCodes = {
    "English": {
      y1: ["MEG-01","MEG-02","MEG-03","MEG-04"],
      y2: ["MEG-05","MEG-06","MEG-07","MEG-08"]
    },
    "Hindi": {
      y1: ["MHD-01","MHD-02","MHD-03","MHD-04"],
      y2: ["MHD-05","MHD-06","MHD-07","MHD-08"]
    },
    "Urdu": {
      y1: ["MUD-01","MUD-02","MUD-03","MUD-04"],
      y2: ["MUD-05","MUD-06","MUD-07","MUD-08"]
    },
    "Political Science": {
      y1: ["MPS-01","MPS-02","MPS-03","MPS-04"],
      y2: ["MPS-05","MPS-06","MPS-07","MPS-08"]
    },
    "History": {
      y1: ["MAH-01","MAH-02","MAH-03","MAH-04"],
      y2: ["MAH-05","MAH-06","MAH-07","MAH-08"]
    },
    "Sociology": {
      y1: ["MSO-01","MSO-02","MSO-03","MSO-04"],
      y2: ["MSO-05","MSO-06","MSO-07","MSO-08"]
    },
    "Psychology": {
      y1: ["MAPC-01","MAPC-02","MAPC-03","MAPC-04"],
      y2: ["MAPC-05","MAPC-06","MAPC-07","MAPC-08"]
    },
    "Economics": {
      y1: ["MEC-01","MEC-02","MEC-03","MEC-04"],
      y2: ["MEC-05","MEC-06","MEC-07","MEC-08"]
    },
    "Public Administration": {
      y1: ["MPA-01","MPA-02","MPA-03","MPA-04"],
      y2: ["MPA-05","MPA-06","MPA-07","MPA-08"]
    },
    "Education": {
      y1: ["MAEDU-01","MAEDU-02","MAEDU-03","MAEDU-04"],
      y2: ["MAEDU-05","MAEDU-06","MAEDU-07","MAEDU-08"]
    },
    "Philosophy": {
      y1: ["MAPY-01","MAPY-02","MAPY-03","MAPY-04"],
      y2: ["MAPY-05","MAPY-06","MAPY-07","MAPY-08"]
    },
    "Anthropology": {
      y1: ["MANT-01","MANT-02","MANT-03","MANT-04"],
      y2: ["MANT-05","MANT-06","MANT-07","MANT-08"]
    },
    "Rural Development": {
      y1: ["MARD-01","MARD-02","MARD-03","MARD-04"],
      y2: ["MARD-05","MARD-06","MARD-07","MARD-08"]
    },
    "Journalism": {
      y1: ["MAJMC-01","MAJMC-02","MAJMC-03","MAJMC-04"],
      y2: ["MAJMC-05","MAJMC-06","MAJMC-07","MAJMC-08"]
    }
  };

  /* ============ MSC SUBJECTS (NO RISK) ============ */
  const mscSubjects = [
    "Geography",
    "Zoology",
    "Geoinformatics",
    "MSCFSQM",
    "Applied Statistics",
    "Chemistry",
    "Environmental Science",
    "Botany",
    "MSC IDS"
  ];

  /* ============ MA PAID ============ */
  if (programme === "MA" && maCourseCodes[subject]) {

    const y1 = maCourseCodes[subject].y1.map(c => `<li>${c}</li>`).join("");
    const y2 = maCourseCodes[subject].y2.map(c => `<li>${c}</li>`).join("");

    paidBox.innerHTML = `
      <div class="lock-box">
        <h3>MA ${subject} – 1st Year</h3>
        <ul>${y1}</ul>
        <b>₹49 Only</b><br><br>
        <a class="unlock-btn"
          href="https://wa.me/9149489238?text=Hi,%20I%20want%20IGNOU%20MA%20${subject}%201st%20Year%20Solved%20Assignments"
          target="_blank">Unlock on WhatsApp</a>
      </div>

      <div class="lock-box" style="margin-top:20px;">
        <h3>MA ${subject} – 2nd Year</h3>
        <ul>${y2}</ul>
        <b>₹49 Only</b><br><br>
        <a class="unlock-btn"
          href="https://wa.me/9149489238?text=Hi,%20I%20want%20IGNOU%20MA%20${subject}%202nd%20Year%20Solved%20Assignments"
          target="_blank">Unlock on WhatsApp</a>
      </div>
    `;
  }

  /* ============ MSC PAID ============ */
  else if (programme === "MSC" && mscSubjects.includes(subject)) {

    paidBox.innerHTML = `
      <div class="lock-box">
        <h3>MSc ${subject} – 1st Year</h3>
        <p>Solved Assignments</p>
        <b>₹49 Only</b><br><br>
        <a class="unlock-btn"
          href="https://wa.me/9149489238?text=Hi,%20I%20want%20IGNOU%20MSc%20${subject}%201st%20Year%20Solved%20Assignments"
          target="_blank">Unlock on WhatsApp</a>
      </div>

      <div class="lock-box" style="margin-top:20px;">
        <h3>MSc ${subject} – 2nd Year</h3>
        <p>Solved Assignments</p>
        <b>₹49 Only</b><br><br>
        <a class="unlock-btn"
          href="https://wa.me/9149489238?text=Hi,%20I%20want%20IGNOU%20MSc%20${subject}%202nd%20Year%20Solved%20Assignments"
          target="_blank">Unlock on WhatsApp</a>
      </div>
    `;
  }

  /* ============ BA / BSc / Diploma ============ */
  else {
    const filtered = assignments.filter(item =>
      item.level &&
      item.programme &&
      item.level.toUpperCase() === programme &&
      item.programme.toLowerCase() === subject.toLowerCase()
    );

    if (filtered.length === 0) {
      list.innerHTML =
        "<p style='text-align:center;color:#777;'>Assignments will be updated soon.</p>";
    } else {
      filtered.forEach(item => {
        const card = document.createElement("div");
        card.className = "card";

        if (item.course === "TEMP") {
          card.innerHTML = `
            <b>${subject}</b><br>
            <span style="color:#999;">Coming Soon</span>
          `;
        } else {
          card.innerHTML = `
            <b>${item.course}</b><br>
            Session: ${item.session}<br><br>
            <a class="btn" href="${item.file}" target="_blank">Download PDF</a>
          `;
        }

        list.appendChild(card);
      });
    }
  }
}
</script>

</body>
</html>

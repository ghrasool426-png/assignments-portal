<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <title>IGNOU Subjects</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="style.css">
</head>

<body>

<header class="main-header">
  <h1 id="programmeTitle">Subjects</h1>
  <p>Select your subject</p>
</header>

<section class="subject-section">
  <div id="subjectGrid" class="subject-grid"></div>
</section>

<script src="data.js"></script>

<script>
  const params = new URLSearchParams(window.location.search);
  const programme = (params.get("programme") || "").toUpperCase();

  const title = document.getElementById("programmeTitle");
  const grid = document.getElementById("subjectGrid");

  if (!programme) {
    grid.innerHTML = "<p>No programme selected</p>";
    title.innerText = "Subjects";
  } else {
    title.innerText = programme + " Subjects";
  }

  const subjects = [...new Set(
    assignments
      .filter(a => a.level === programme)
      .map(a => a.programme)
  )];

  if (subjects.length === 0) {
    grid.innerHTML = "<p>No subjects found</p>";
  }

  subjects.forEach(sub => {
    const link = document.createElement("a");
    link.href = `assignments.html?programme=${programme}&subject=${encodeURIComponent(sub)}`;
    link.className = "subject-card";
    link.innerHTML = `<h3>${sub}</h3>`;
    grid.appendChild(link);
  });
</script>

</body>
</html>
